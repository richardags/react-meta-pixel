"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TrackableEventNameEnum=exports.FacebookPixel=void 0;const connection_1=__importDefault(require("./connection")),enums_1=require("./enums");Object.defineProperty(exports,"TrackableEventNameEnum",{enumerable:!0,get:function(){return enums_1.TrackableEventNameEnum}});class FacebookPixel{constructor({pixelID:e,debug:t=!0,pageViewOnInit:i=!0,autoConfig:n=!0,disablePushState:o=!1}){this.consolePrefix="[react-use-facebook-pixel]",this.initialized=!1,this.externalId=void 0,(0,connection_1.default)(),this.pixelID=e,this.debug=t,this.pageViewOnInit=i,this.autoConfig=n,this.disablePushState=o}init(e){this.initialized||(this.initialized=!0,window.fbq.disablePushState=this.disablePushState,window.fbq("set","autoConfig",this.autoConfig,this.pixelID),window.fbq("init",this.pixelID,e),e.external_id&&(this.externalId=e.external_id),this.pageViewOnInit&&this.trackEvent("PageView"),this.debug&&console.log(this.consolePrefix,(new Date).toLocaleTimeString(),"Facebook Pixel initialized"))}getExternalId(){return this.externalId}trackEvent(e,t,i){this.initialized||!this.debug?(window.fbq("track",e,t,i),this.debug&&console.log(this.consolePrefix,(new Date).toLocaleTimeString(),"\nEvent tracked.","\nEvent name: ",e,"\nEvent data: ",t,"\nEvent additiona data",i)):console.error(this.consolePrefix,(new Date).toLocaleTimeString(),"\nError","\nYou tried to track event before initialization")}}exports.FacebookPixel=FacebookPixel;